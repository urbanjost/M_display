<!-- -*- mode: jinja2 -*- -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="display small matrices in row-column order">
    <meta name="author" content="John S. Urban" >
    <link rel="icon" href="../favicon.png">

    <title>tostring_set &ndash; M_display</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- Font Awesome -->
    <link href="../css/fontawesome.min.css" rel="stylesheet">
    <link href="../css/brands.min.css" rel="stylesheet">
    <link href="../css/regular.min.css" rel="stylesheet">
    <link href="../css/solid.min.css" rel="stylesheet">
    <link href="../css/v4-font-face.min.css" rel="stylesheet">
    <link href="../css/v4-shims.min.css" rel="stylesheet">
    <!-- MathJax -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { equationNumbers: { autoNumber: "AMS" } }
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async
            integrity="sha256-DViIOMYdwlM/axqoGDPeUyf0urLoHMN4QACBKyB58Uw=" crossorigin="anonymous"></script>
    <!-- Other scripts and stylesheets -->
    <link href="../css/local.css" rel="stylesheet">
    <link href="../css/pygments.css" rel="stylesheet">
    <script src="../js/svg-pan-zoom.min.js"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="../index.html">M_display </a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link" href="../lists/files.html">Source Files</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/procedures.html">Procedures</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/types.html">Derived Types</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/programs.html">Programs</a>
                </li>
            </ul>
              <div class="d-flex align-items-end flex-grow-1">
                <form action="../search.html" role="search" class="ms-auto">
                  <input type="text" class="form-control" aria-label="Search" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
                </form>
              </div>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <div class="row">
    <h1>tostring_set
      <small>Subroutine</small>
      
    </h1>
      <div class="container p-2 mb-4 bg-light border rounded-3">
    <div class="row align-items-center justify-content-between" id="info-bar">
      <div class="col">
        <ul class="list-inline" style="margin-bottom:0px;display:inline">

            <li class="list-inline-item" id="statements"><i class="fa fa-list-ol"></i>
              <a data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-html="true"
                 title=" 0.6% of total for procedures.">10 statements</a>
            </li>

            <li class="list-inline-item" id="source-file">
              <i class="fa fa-code"></i>
              <a href="../src/M_display.f90"> Source File</a>
            </li>
        </ul>
      </div>
      <div class="col">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb justify-content-end mb-0">
                <li class="breadcrumb-item"><a href='../sourcefile/m_display.f90.html'>M_display.f90</a></li>
                <li class="breadcrumb-item"><a href='../module/m_display.html'>M_display</a></li>
            <li class="breadcrumb-item active" aria-current="page">tostring_set</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
  <script>
    // Enable Bootstrap tooltips
    (function () {
      const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
      const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
    })();
  </script>

  </div>
  
  <div class="row">
    <div class="col-md-3 hidden-xs hidden-sm visible-md visible-lg">
      <div id="sidebar">
      <h3>Contents</h3>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
    <div class="card card-primary">
      <div class="card-header text-left"><h3 class="card-title">Source Code</h3></div>
      <div class="list-group">
        <a class="list-group-item" href="../proc/tostring_set.html#src">tostring_set</a>
      </div>
    </div>


  </div>

    </div>
    
    <div class="col-md-9" id='text'>
    <h2>public  subroutine tostring_set(sep, rfmt, ifmt, trimb, trimz)  
</h2>
    

    <h2 id="name">NAME</h2>
<div class="codehilite"><pre><span></span><code><span class="n">tostring_set</span><span class="p">(</span><span class="mi">3</span><span class="n">f</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">[</span><span class="n">M_display</span><span class="o">]</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">modes</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">TOSTRING</span><span class="p">(</span><span class="mi">3</span><span class="n">f</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

<h2 id="description">DESCRIPTION</h2>
<p>The subroutine TOSTRING_SET has five arguments, all of which are
 optional. Argument association will normally be realized using argument
 keywords, e.g. CALL TOSTRING_SET(SEP=&rsquo;; &lsquo;). The examples in section 5.4
 clarify how to use this subroutine. The five arguments are:</p>
<p>SEP     Character string used to separate elements of displayed
         vectors. Original default value is &lsquo;, &lsquo;.</p>
<p>RFMT    Character string containing default edit descriptor to use to
         display real items. The original default value is &lsquo;1PG12.5&rsquo;</p>
<p>IFMT    Character string containing default edit descriptor to use to
         display integer items. The original default value is &lsquo;I0&rsquo;.</p>
<p>TRIMB   Controls whether leading and trailing blanks are trimmed from
         individual displayed elements. Possible values are &lsquo;YES&rsquo;
         (to trim blanks) and &lsquo;NO&rsquo; (for no trimming). Default is &lsquo;YES&rsquo;.</p>
<p>TRIMZ   Controls whether trailing zeros are trimmed from the fractional
         part of displayed items. Possible values are &lsquo;NONE&rsquo; (for no
         zero trimming), &lsquo;G&rsquo; (to trim fractional trailing zeros only when
         G editing is used), and &lsquo;ALL&rsquo; (to trim zeros with all types
         of editing). Trailing decimal points are also removed when
         zero-trimming is active. Default value is &lsquo;G&rsquo;.</p>
<h2 id="examples">EXAMPLES</h2>
<p>When the original (factory) defaults are in effect, the result of invoking
 TOSTRING will usually be as follows.</p>
<div class="codehilite"><pre><span></span><code> Invocation                             Returned String
 ----------                             ---------------
 tostring(atan(1.0))                    &#39;0.785398&#39;
 tostring(exp([-3.,-1.,0.,1.]))         &#39;4.97871E-02, 0.36788, 1, 2.7183&#39;
 tostring(real([(i,i=1,5)])**8)         &#39;1, 256, 6561, 65536, 3.90625E+05&#39;
 tostring([1.23456,1.2300,1.23456e6])   &#39;1.2346, 1.23, 1.23456E+06&#39;
 tostring(real([(i,i=1,5)])**8,&#39;f0.1&#39;)  &#39;1.0, 256.0, 6561.0, 65536.0, 390625.0&#39;
 tostring(real([(i,i=1,5)])**8,&#39;f6.1&#39;)  &#39;1.0, 256.0, 6561.0, ******, ******&#39;
 tostring([1200000.,-1.2e-9])           &#39;1.2E+06, -1.2E-09&#39;
 !
 tostring(1.200d103)                    &#39;1.2+103&#39;
 tostring([1.1d0,2.2d10,3.3d20])        &#39;1.1E+00, 2.2E+10, 3.3E+20&#39;
 !
 tostring(-77)                          &#39;-77&#39;
 tostring([(i,i=-3,3)]**11)             &#39;-177147, -2048, -1, 0, 1, 2048, 177147&#39;
 tostring([(i,i=-3,3)]**11, &#39;i7&#39;)       &#39;-177147, -2048, -1, 0, 1, 2048, 177147&#39;
 tostring([(i,i=-3,3)]**11, &#39;i4&#39;)       &#39;****, ****, -1, 0, 1, 2048, ****&#39;
 !
 tostring((1,3)/(4,2))                  &#39;0.5 + 0.5i&#39;
 tostring(cmplx([-1,-2])**0.25)       &#39;0.70711 + 0.70711i, 0.8409 + 0.8409i&#39;
 !
 tostring([.true., .false., .false.])   &#39;T, F, F&#39;
 tostring(.true., &#39;L2&#39;)                 &#39;T&#39;
</code></pre></div>

<p>The returned strings may be slightly different from the ones shown,
 because some compilers (at least some versions of g95) will produce one
 more decimal place in a few cases, and because the Fortran standard allows
 G editing to give exponent fields in the form 0dd instead of Edd. The
 examples make use of brackets to construct vector constants (a Fortran
 2003 feature). If the compiler being used does not support this, [ and
 ] must be used instead. Notice that trimming is on by default so there
 is not much purpose in specifying the format for integers and logicals.
 Notice also that (usually) 5 significant digits are displayed when the
 default G editing results in F edited output, but 6 digits for the numbers
 of small or large magnitude, displayed with E editing. This discrepancy
 is present in the Fortran standard; the presence of the scale factor 1P in
 the edit descriptor increases the number of displayed significant digits.</p>
<p>Examples of using TOSTRING_SET follow (again the returned string may be
 slightly different).</p>
<div class="codehilite"><pre><span></span><code>   Invocation                              Returned String
   ----------                              ---------------
   call tostring_set(sep=&#39;;&#39;)
   tostring([1,2,30])                      &#39;1;2;30&#39;
   !
   call tostring_set(trimb=&#39;NO&#39;)
   tostring(real([(i,i=1,5)])**8,&#39;f6.1&#39;)   &#39;   1.0; 256.0;6561.0;******;******&#39;
   tostring([1,2,30],&#39;i3&#39;)                 &#39;  1;  2; 30&#39;
   tostring([(i,i=-3,3)]**11, &#39;i4&#39;)        &#39;****;****;  -1;   0;   1;2048;****&#39;
   tostring([1,2,30],&#39;i0&#39;)                 &#39;1;2;30&#39;
   tostring(.true.,&#39;L3&#39;)                   &#39;  T&#39;
   !
   call tostring_set(trimz=&#39;NONE&#39;,sep=&#39;, &#39;,trimb=&#39;YES&#39;)
   tostring(real([(i,i=1,4)])**8)          &#39;1.0000, 256.00, 6561.0, 65536.&#39;
   tostring([1.23456,1.2300,1.23456e6])    &#39;1.2346, 1.2300, 1.23456E+06&#39;
   tostring(1.200d103)                     &#39;1.20000+103&#39;
   !
   call tostring_set(trimz=&#39;ALL&#39;)
   tostring(real([(i,i=1,5)])**8,&#39;f0.1&#39;)   &#39;1, 256, 6561, 65536, 390625&#39;
   !
   call tostring_set(rfmt=&#39;G12.4&#39;)
   tostring(real([(i,i=0,5)])**8)          &#39;1, 256, 6561, 0.6554E+05, 0.3906E+06&#39;
   tostring([1200000.,-1.2e-9])            &#39;0.12E+07, -0.12E-08&#39;
   !
   call tostring_set_factory()
</code></pre></div>

<h2 id="author">AUTHOR</h2>
<p>Based on dispmodule(3f),
   &ldquo;A Fortran 95 module for pretty-printing matrices&rdquo;.
   Version number 1.02 6-Sept-2008,
   Kristjan Jonasson, Dept. of Computer Science,
   University of Iceland (jonasson@hi.is).</p>


    <h3>Arguments</h3>
        <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-sep~8"></span>
              character(len=*),
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>sep</strong></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-rfmt~2"></span>
              character(len=*),
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>rfmt</strong></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ifmt~2"></span>
              character(len=*),
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ifmt</strong></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-trimb~2"></span>
              character(len=*),
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>trimb</strong></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-trimz~2"></span>
              character(len=*),
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>trimz</strong></td>
            <td>
                
            </td>
        </tr>
    </tbody>
  </table>

    <br>


    
    

    
    



    
    <section>
    <h2><span class="anchor" id="src"></span>Source Code</h2>
    <div class="hl codehilite"><pre><span></span><span class="w">  </span><span class="k">subroutine </span><span class="n">tostring_set</span><span class="p">(</span><span class="n">sep</span><span class="p">,</span><span class="w"> </span><span class="n">rfmt</span><span class="p">,</span><span class="w"> </span><span class="n">ifmt</span><span class="p">,</span><span class="w"> </span><span class="n">trimb</span><span class="p">,</span><span class="w"> </span><span class="n">trimz</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="kt">character</span><span class="p">(</span><span class="o">*</span><span class="p">),</span><span class="w"> </span><span class="k">optional</span><span class="p">,</span><span class="w"> </span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">sep</span><span class="p">,</span><span class="w"> </span><span class="n">rfmt</span><span class="p">,</span><span class="w"> </span><span class="n">ifmt</span><span class="p">,</span><span class="w"> </span><span class="n">trimb</span><span class="p">,</span><span class="w"> </span><span class="n">trimz</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">present</span><span class="p">(</span><span class="n">sep</span><span class="p">))</span><span class="w">    </span><span class="n">tosset</span><span class="w"> </span><span class="p">%</span><span class="w"> </span><span class="n">sep</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">upper</span><span class="p">(</span><span class="n">sep</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">present</span><span class="p">(</span><span class="n">sep</span><span class="p">))</span><span class="w">    </span><span class="n">tosset</span><span class="w"> </span><span class="p">%</span><span class="w"> </span><span class="n">seplen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">min</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">sep</span><span class="p">))</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">present</span><span class="p">(</span><span class="n">rfmt</span><span class="p">))</span><span class="w">   </span><span class="n">tosset</span><span class="w"> </span><span class="p">%</span><span class="w"> </span><span class="n">rfmt</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">upper</span><span class="p">(</span><span class="n">rfmt</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">present</span><span class="p">(</span><span class="n">ifmt</span><span class="p">))</span><span class="w">   </span><span class="n">tosset</span><span class="w"> </span><span class="p">%</span><span class="w"> </span><span class="n">ifmt</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">upper</span><span class="p">(</span><span class="n">ifmt</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">present</span><span class="p">(</span><span class="n">trimb</span><span class="p">))</span><span class="w">  </span><span class="n">tosset</span><span class="w"> </span><span class="p">%</span><span class="w"> </span><span class="n">trimb</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">upper</span><span class="p">(</span><span class="n">trimb</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">present</span><span class="p">(</span><span class="n">trimz</span><span class="p">))</span><span class="w">  </span><span class="n">tosset</span><span class="w"> </span><span class="p">%</span><span class="w"> </span><span class="n">trimz</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">upper</span><span class="p">(</span><span class="n">trimz</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="k">call </span><span class="n">tostring_check_settings</span><span class="w"></span>
<span class="w">  </span><span class="k">end subroutine </span><span class="n">tostring_set</span><span class="w"></span>
</pre></div>

    </section>
    <br>
    
    </div>
  </div>

      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col">
            <p>
              M_display
 was developed by John S. Urban<br>              &copy; 2025 
</p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
 on 2025-07-11 00:45 +0000             </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>
  </body>
</html>